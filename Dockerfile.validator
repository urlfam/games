FROM mcr.microsoft.com/playwright/python:v1.40.0-jammy

WORKDIR /app

# Copier requirements
COPY requirements-validator.txt .

# Installer dépendances Python
RUN pip install --no-cache-dir -r requirements-validator.txt

# Installer Chromium pour Playwright
RUN playwright install chromium

# Copier le script
COPY test_game.py .

# Créer le dossier pour les résultats
RUN mkdir -p /app/results

# Par défaut, garder le conteneur actif
CMD ["tail", "-f", "/dev/null"]
